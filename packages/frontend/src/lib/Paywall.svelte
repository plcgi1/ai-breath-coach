<script>
    export let t;
    export let isLoading;

    function handleSubscribe() {
        // –í—ã–∑–æ–≤ –Ω–∞—Ç–∏–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ Telegram –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
        window.Telegram?.WebApp?.MainButton.setText(t.pay_button);
        window.Telegram?.WebApp?.MainButton.show();
        // –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ –≤–∞—à–µ–≥–æ –±—ç–∫–µ–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–≤–æ–π—Å–∞
    }
</script>

<div class="paywall-container">
    <div class="icon">üíé</div>
    <h2>{t.pay_title}</h2>
    <p class="desc">{t.pay_desc}</p>

    <ul class="features">
        <li>‚úÖ –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π –ò–ò-—Ç—Ä–µ–Ω–µ—Ä</li>
        <li>‚úÖ –í—Å–µ –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏</li>
        <li>‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å—Ç—Ä–µ—Å—Å–∞</li>
    </ul>

    <button class="pay-btn" disabled={isLoading} on:click={handleSubscribe}>
        {isLoading ? '...' : t.pay_button}
    </button>
</div>

<style>
    .paywall-container {
        padding: 10px;
        text-align: center;
    }
    .icon {
        font-size: 60px;
        margin-bottom: 10px;
    }
    .desc {
        color: #666;
        margin-bottom: 25px;
    }
    .features {
        text-align: left;
        list-style: none;
        padding: 0;
        margin: 20px auto;
        max-width: 250px;
    }
    .features li {
        margin-bottom: 10px;
        font-size: 15px;
    }
    .pay-btn {
        width: 100%;
        background: #0088cc;
        color: white;
        border: none;
        padding: 18px;
        border-radius: 16px;
        font-size: 18px;
        font-weight: bold;
        box-shadow: 0 4px 15px rgba(0, 136, 204, 0.3);
    }
    .pay-btn:active {
        transform: scale(0.98);
    }
</style>
